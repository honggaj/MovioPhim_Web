<div class="p-4 bg-black text-white min-h-screen">
  <!-- üñºÔ∏è Poster + Info Grid -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    <!-- Poster -->
    <div>
      <img [src]="'https://img.ophim.live/uploads/movies/' + movie?.item?.poster_url" [alt]="movie?.item?.name"
        class="rounded-lg shadow w-full h-auto" />
    </div>

    <!-- Info -->
    <div class="md:col-span-2 flex flex-col justify-between space-y-4">
      <div>
        <h1 class="text-3xl font-bold mb-2">{{ movie?.item?.name }}</h1>
        <p class="text-gray-400 text-sm mb-1">
          {{ movie?.item?.origin_name }} ‚Ä¢ {{ movie?.item?.year }} ‚Ä¢ {{ movie?.item?.time }}
        </p>
        <p class="text-gray-400 text-sm mb-3">
          {{ movie?.item?.lang }} ‚Ä¢ {{ movie?.item?.quality }} ‚Ä¢ {{ movie?.item?.episode_current }} / {{
          movie?.item?.episode_total }}
        </p>
        <div class="text-sm text-gray-300 mb-3" [innerHTML]="movie?.item?.content"></div>

        <div class="text-sm space-y-1">
          <p><strong>ƒê·∫°o di·ªÖn:</strong> {{ movie?.seoOnPage?.seoSchema?.director || 'ƒêang c·∫≠p nh·∫≠t' }}</p>
          <!-- <p><strong>Di·ªÖn vi√™n:</strong> {{ movie?.item?.actor?.join(', ') || 'ƒêang c·∫≠p nh·∫≠t' }}</p> -->
          <p><strong>Th·ªÉ lo·∫°i:</strong> {{ getBreadCrumbNames('the-loai') }}</p>
          <p><strong>Qu·ªëc gia:</strong> {{ getBreadCrumbNames('quoc-gia') }}</p>
          <!-- üé≠ Di·ªÖn vi√™n Carousel -->
          <p><strong>C√°c di·ªÖn vi√™n:</strong></p>

          <p-carousel *ngIf="castList.length > 0" [value]="castList" [numVisible]="10" [numScroll]="8" [circular]="true"
            [autoplayInterval]="3000" [responsiveOptions]="responsiveOptions" [showIndicators]="false"
            [showNavigators]="true" styleClass="custom-carousel">
            <ng-template pTemplate="item" let-actor>
              <div class="text-center p-2">
                <img [src]="'https://image.tmdb.org/t/p/w185' + actor.profile_path" (error)="onImgError($event)"
                  [alt]="actor.name" class="rounded-lg w-full h-auto mb-2" />

                <p class="font-semibold text-sm">{{ actor.name }}</p>
                <p class="text-xs text-gray-400">{{ actor.character }}</p>
              </div>
            </ng-template>
          </p-carousel>
        </div>
      </div>

      <!-- üîò Action Buttons -->
      <div class="flex justify-center items-center gap-4 mt-4">
        <button *ngIf="movie?.item?.episodes?.[0]?.server_data?.length"
          (click)="setEpisode(movie.item.episodes[0].server_data[0]?.link_embed)"
          class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded text-white font-semibold">
          ‚ñ∂ Xem phim
        </button>

        <button *ngIf="movie?.item?.trailer_url" (click)="toggleTrailer()"
          class="bg-zinc-700 hover:bg-zinc-600 px-4 py-2 rounded text-white font-semibold">
          üé¨ Xem trailer
        </button>
      </div>
    </div>
  </div>

  <!-- üé¨ Trailer -->
  <div class="mt-6" *ngIf="showTrailer && movie?.item?.trailer_url">
    <h2 class="text-lg font-semibold mb-2">Trailer</h2>
    <iframe [src]="movie?.item?.trailer_url | youtubeEmbed" frameborder="0" allowfullscreen
      class="w-full h-auto rounded-lg"></iframe>
  </div>

  <!-- üé• Video Player -->
  <div class="mt-6" *ngIf="selectedEpisodeLink">
    <h2 class="text-lg font-semibold mb-2">ƒêang xem</h2>
    <iframe [src]="selectedEpisodeLink | safeUrl" frameborder="0" allowfullscreen
      class="w-full h-auto rounded-lg"></iframe>
  </div>

  <!-- üì∫ Danh s√°ch t·∫≠p -->
  <div class="mt-8" *ngIf="movie?.item?.episodes?.[0]?.server_data?.length">
    <h2 class="text-xl font-semibold mb-2">Danh s√°ch t·∫≠p</h2>
    <div class="flex flex-wrap gap-2">
      <button *ngFor="let ep of movie.item.episodes[0].server_data" (click)="setEpisode(ep.link_embed)"
        class="px-3 py-1 bg-zinc-800 rounded hover:bg-zinc-700 text-sm" [ngClass]="{
          'bg-zinc-700 text-red-500': selectedEpisodeLink === ep.link_embed
        }">
        T·∫≠p {{ ep.name }}
      </button>
    </div>
  </div>
</div>